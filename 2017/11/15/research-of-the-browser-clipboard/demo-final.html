<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<title>网页复制-终版</title>
<style>
</style>
</head>

<body style="padding-top: 20px;">

<input type="text" id="input-clipboard" value="测试内容"/>
<button id="button-clipboard">复制</button>

<script>

var inputClipboard = document.getElementById('input-clipboard'),
  buttonClipboard = document.getElementById('button-clipboard');

buttonClipboard.onclick = function() {
  copy(inputClipboard);
};

function copy(el) {
  var isSupportCopy = false;

  if (navigator.userAgent.match(/iphone|ipad|ipod/i)) { // iOS browser
    el.setSelectionRange(0, 9999);
  } else {
    el.select();
  }

  try {
    isSupportCopy = document.execCommand('Copy', false, null);
  } catch (e) {
    // 老版浏览器，因为安全问题，会抛出异常
    alert('出错了！请按 ctrl+c 复制或使用浏览器里的复制');
  }

  if (isSupportCopy) {
    document.execCommand('Copy', false, null);
  } else {
    alert('抱歉！请按 ctrl+c 复制或使用浏览器里的复制');
  }
}

</script>



</body>
</html>
