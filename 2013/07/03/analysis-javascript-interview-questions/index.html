<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

  
  <meta name="author" content="易建勇,YI_joy">
  

  
  <meta name="description" content="几道Javascript面试题的解析 | 前端技术空间">
  

  
  <meta name="keywords" content="全局匹配对象  变量声明 初始化">
  

  

  <title>几道Javascript面试题的解析 | 前端技术空间</title>

  <link rel="stylesheet" href="/css/blog.css">
</head>
<body>

<div class="blog">

<div class="navigation">
  <ul class="nav-list">
    
      <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
    
      <li class="nav-item"><a class="nav-link" href="/archives">Archives</a></li>
    
  </ul>
</div>

<div class="post">

  <h1 class="post-title">几道Javascript面试题的解析</h1>

  <time class="post-time">2013-07-03</time>

  <div class="post-content">
    
<p>最近有几道前端面试题在网上非常流行，来看看它们都是什么：</p>
<a id="more"></a>
<p><strong>题1. 写出下面程序执行结果？</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">　　<span class="keyword">var</span> b, c=<span class="literal">null</span>, d=<span class="number">1</span>;</span><br><span class="line">　　alert(a); </span><br><span class="line">　　alert(b); </span><br><span class="line">　　alert(c); </span><br><span class="line">　　alert(d); </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>解析：</strong> 在javascript中，要使用一个变量，首先要声明变量，再给变量指定初始值。变量是用var来声明，如果一个变量声明了，但没有指定初始值，那么该变量的默认初始值是undefined。所以在函数中，因为a没有声明，故会报错。b声明了，但是没有指定初始值，所以是undefined。c和d都声明了并指定了初始值，则弹出对应的值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">　　<span class="keyword">var</span> b, c=<span class="literal">null</span>, d=<span class="number">1</span>;</span><br><span class="line">　　alert(a);  <span class="comment">//报错 ，提示 a 未定义</span></span><br><span class="line">　　alert(b);  <span class="comment">//undefined</span></span><br><span class="line">　　alert(c);  <span class="comment">//null;</span></span><br><span class="line">　　alert(d); <span class="comment">//1;</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>题2. 求出y和z的值是多少？</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">　　<span class="keyword">var</span> x = <span class="number">1</span>, y = <span class="number">0</span>, z = <span class="number">0</span>;</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;n=n+<span class="number">1</span>;&#125;</span><br><span class="line">　　y = add(x);</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;n=n+<span class="number">3</span>;&#125;</span><br><span class="line">　　z = add(x);</span><br><span class="line">　　alert(y);</span><br><span class="line">　　alert(z);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>解析：</strong>因为最后的alert函数都要求用到函数的返回值，但是两个函数都没有返回值，所以都弹出 undefined。另外，如果函数有返回值的话，y的结果是4，z的结果也是4。因为函数名相同，后面的函数会覆盖前面的函数，所以都弹出4。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">　　<span class="keyword">var</span> x = <span class="number">1</span>, y = <span class="number">0</span>, z = <span class="number">0</span>;</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;n=n+<span class="number">1</span>;&#125;</span><br><span class="line">　　y = add(x);</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;n=n+<span class="number">3</span>;&#125;</span><br><span class="line">　　z = add(x);</span><br><span class="line">　　alert(y); <span class="comment">//undefined 因为没有返回值</span></span><br><span class="line">　　alert(z); <span class="comment">//undefined 因为没有返回值</span></span><br><span class="line"><span class="comment">// 如果函数中有return , 则y和z都是4 因为y和z都是调用的最后一个函数</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>题3. 说说form中input的readonly和disable，两者有什么区别？</strong></p>
<p><strong>解析：</strong>readonly使得input的value值只读，但该值可以选择和复制；并且该值也可以传递给后台</p>
<p>disable也是使得input的value值只读，但该值不能复制，不能选择；值不可以传递给后台</p>
<p><strong>题4. 写一个正则表达式，判断字符串是否是这样组成的，第一个必须是字母，后面可是的字母、数字下划线，总长度为5-10？</strong></p>
<p><strong>解析：</strong>re=/^[a-zA-Z]{1}\w{4,9}/g   是这个吗？</p>
<p>实践是检验真理的唯一标准，下面我们来用个实例验证下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"txt"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"test"</span> <span class="attr">id</span>=<span class="string">"btn"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> oTxt=<span class="built_in">document</span>.getElementById(<span class="string">"txt"</span>),oBtn=<span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>),re=<span class="regexp">/^[a-zA-Z]&#123;1&#125;\w&#123;4,9&#125;/g</span>;</span></span><br><span class="line"><span class="actionscript">　　oBtn.onclick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">　　　　<span class="keyword">if</span>(re.test(oTxt.value))&#123;</span></span><br><span class="line"><span class="actionscript">　　　　　　alert(<span class="string">"match"</span>)</span></span><br><span class="line"><span class="undefined">　　　　&#125;</span></span><br><span class="line"><span class="actionscript">　　　　<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">　　　　　　alert(<span class="string">"not match!"</span>)</span></span><br><span class="line"><span class="undefined">　　　　&#125;</span></span><br><span class="line"><span class="undefined">　　&#125; </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>经过验证，我们发现当输入6个字母时，第一次点击按钮弹出“match”，第二次点击按钮弹出”not match!”,再次点击按钮弹出“match”，再次点击按钮弹出“not match!”……</p>
<p>为什么会这样呢？这是因为这里使用全局匹配 g</p>
<p>RegExp对象 是保存有关正则表达式模式匹配信息的固有全局对象。 不要将 全局RegExp对象 与 正则表达式 对象混淆。尽管听起来像是一回事，但它们是截然不同的。全局RegExp对象 的属性包含不断更新的关于每个匹配出现的信息，而正则表达式对象只包含出现正则表达式匹配的信息。</p>
<p>全局RegExp对象 有一些属性，比如index、lastIndex、lastMatch、$1 – $9 等，虽然它们不能直接被查询，但会在匹配中不断被改变。</p>
<p>上面的这个例子，就是因为 index 被改变的的原因：<br>第一次搜索到了字符串的第5个字符，找到了匹配，所以返回了真。<br>第二次搜索会从第6个字符开始，一直搜索到末尾，找不到匹配，所以返回了假。<br>由于第二次搜索到了末尾，第三次搜索会从第1个字符开始，找到了匹配，所以返回了真。<br>第四次搜索的情况和第二次是一样的。</p>
<p>总结一下，全局RegExp对象 远比你想的要复杂，它有很多你不知道的属性在随着匹配而不断改变，而这些属性是很可能影响下一次的匹配结果的。<br>所以，除非你清楚自己在干什么，否则还是用纯粹的正则表达式更安全。</p>
<p>因此，正确的正则是：re=/^[a-zA-Z]{1}\w{4,9}/;</p>
<p><strong>题5. 说出下列函数的运行结果？</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　<span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　alert(a);</span><br><span class="line">　　　　<span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line">　　&#125;</span><br><span class="line">　　test(); </span><br><span class="line">　　alert(a);</span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　<span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　alert(a);</span><br><span class="line">　　　　a = <span class="number">5</span>;</span><br><span class="line">　　&#125;</span><br><span class="line">　　test(); </span><br><span class="line">　　alert(a); </span><br><span class="line">&#125;</span><br><span class="line">test2();</span><br></pre></td></tr></table></figure>
<p><strong>解析：</strong>在函数体内，局部变量的优先级要高于同名的全局变量。</p>
<p>你可能会误以为alert(a)的值是5或者10，其实都不是。</p>
<p>因为代码还没有执行到函数test中a=5的地方,但是由于函数作用域的特性，局部变量在整个函数体始终是有定义的，也就是说，在函数体内局部变量覆盖了同名全局变量。尽管如此，只有在程序执行到a=5的地方，局部变量才会被真正赋值，在问题一我们也知道，变量只声明未赋值的初始值是undefined。故alert(a)为undefined。而test函数外面的alert(a)的值是弹出全局变量 10。</p>
<p>假如：test函数中执行alert(a)之前没有变量，如果去掉var a=5, 则结果为10 ; 如果把var a=5 放在aler(a)前面，则弹出5。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　<span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　alert(a);</span><br><span class="line">　　　　<span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line">　　&#125;</span><br><span class="line">　　test();  <span class="comment">//undefined</span></span><br><span class="line">　　alert(a); <span class="comment">//全局变量 结果为 10</span></span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br></pre></td></tr></table></figure>
<p>因为下面的函数两个a都是全局变量了，依照前一个函数的解释，函数test里面的alert(a)的值自然是10。然后全局变量被a=5覆盖，于是，test函数外面的alert(a)的值是5。</p>
<p>假如：如果a=5在函数test的alert(a)前面，则结果是5，因为就近原则。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　<span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">　　　　alert(a);</span><br><span class="line">　　　　a = <span class="number">5</span>;</span><br><span class="line">　　&#125;</span><br><span class="line">　　test();  <span class="comment">//10</span></span><br><span class="line">　　alert(a);  <span class="comment">//5 ，a=5变为全局变量覆盖了原来的a=10</span></span><br><span class="line">&#125;</span><br><span class="line">test2();</span><br></pre></td></tr></table></figure>
  </div>

</div>

  <div class="footer">
    <a href="http://www.yi-jy.com">前端技术空间--易建勇</a> /
    <a href="http://www.beianbeian.com/search/yi-jy.com">Copyright © 2012-2018</a> /
    <a href="https://github.com/joy-yi0905/hexo-theme-record">Record</a> /
    <a href="http://yi-jy.com/atom.xml">Rss</a>
  </div>

</div>

</body>


    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7d5550c80ba3b42cfa5323fc0e92699f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


</html>