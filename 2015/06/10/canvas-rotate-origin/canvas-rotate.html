
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<title>理解canvas的rotate中心点--旋转180deg</title>
<style>
#canvas1,
#canvas2{display:block;border:1px solid #ccc;}
#canvas2{margin-top:200px;margin-left:200px;}
</style>
</head>

<body>
<canvas id="canvas1" width="200" height="200" >canvas not supported</canvas>
<canvas id="canvas2" width="235" height="84" >canvas not supported</canvas>
<script>
;~function(){
    var canvas = document.getElementById("canvas1");
        ctx = canvas.getContext("2d");

    ctx.save();

    ctx.fillStyle = "black"; //旋转前
    ctx.fillRect(20,20,100,100);

    ctx.rotate( (Math.PI / 180) * 30);

    ctx.fillStyle = "blue";
    ctx.fillRect(20,20,100,100); //旋转后

    ctx.restore();
}()

;~function(){
    var canvas = document.getElementById("canvas2");
        ctx = canvas.getContext("2d"),
        img = new Image();

        ctx.save();

        img.addEventListener( "load" , function(){


            // ctx.translate(canvas.width/2,canvas.height/2);
            // ctx.rotate(Math.PI);
            // ctx.translate(-canvas.width/2,-canvas.height/2);
            // ctx.drawImage(img,0,0);

            // ctx.translate(canvas.width/2,canvas.height/2);
            // ctx.rotate(Math.PI);
            // ctx.drawImage(img,-canvas.width/2,-canvas.height/2);

            ctx.rotate(Math.PI);
            ctx.drawImage(img,-canvas.width,-canvas.height);


        } , false);

        img.src = "sample.png";

        ctx.restore();
}()
</script>

</body>
</html>

