
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<title>震动api</title>
</head>

<body>
<p>载入页面时，机体首先会震动1s，然后暂停1s，再震动1s</p>
<p><a href="javascript:;" id="open">开启5s震动</a></p>
<p><a href="javascript:;" id="close">终止这5s震动</a></p>
</body>
</html>

<script type="text/javascript">
(function(){
  if("vibrate" in navigator){
    var d = document,
      openBtn = d.getElementById("open"),
      closeBtn = d.getElementById("close");
    navigator.vibrate([1000, 1000, 1000]);
    openBtn.addEventListener( "click" , function(){
      navigator.vibrate(5000);
    } , false );
    closeBtn.addEventListener( "click" , function(){
      navigator.vibrate(0);
    } , false )
  }
  else{
    alert("你的机体不支持震动api");
  }
})()
</script>
